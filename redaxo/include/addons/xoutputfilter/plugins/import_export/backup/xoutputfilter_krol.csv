"id";"typ";"active";"name";"description";"lang";"marker";"html";"allcats";"subcats";"once";"categories";"insertbefore";"excludeids";"useragent";"dataarea";"validfrom";"validto"
"2";"4";"1";"Beispiel_003";"Alle HTML-Kommentare entfernen - ausser Conditional Comments für IE";"0";"/<!--[^\[](.|\s)*?[^\]]-->/";"";"1";"1";"0";"";"3";"";"";"";"0000-00-00 00:00:00";"0000-00-00 00:00:00"
"3";"4";"1";"Beispiel_005";"Ungeschlossene Tags schliessen (<br>, <hr>, <img>, <input>, <meta>, <base>, <basefont>, <param>, <link>, <area>)";"0";"/\~r~\~n~<(br|hr|img|input|meta|base|basefont|param|link|area)\~r~\~n~+\~r~\~n~((\s+[a-zA-Z-]+\s*=\s*(\~q~([^\~q~]*)\~q~|'([^']*)'|([a-zA-Z0-9]*)))*\s*)>\~r~\~n~/ix";"<$1$2 />";"1";"1";"0";"";"3";"";"";"";"0000-00-00 00:00:00";"0000-00-00 00:00:00"
"4";"4";"0";"Beispiel_006";"Leere HTML-Tags entfernen (<p>, <span>, <strong>, <b>, <em>, <h1>, <h2>, <h3>, <h4>, <h5>, <h6>)";"0";"/<(p|span|strong|b|em|h1|h2|h3|h4|h5|h6)>(\s|\b)*<\/\1>/";"";"1";"1";"0";"";"3";"";"";"";"0000-00-00 00:00:00";"0000-00-00 00:00:00"
"5";"4";"1";"Beispiel_007";"Fehlende alt-Attribute bei <img>-Tags einfügen";"0";"/(?!<img[^>]*\salt[^=>]*=[^>]*>)<img[^>](.*)(>)/";"<img alt=\~q~\~q~ $1>";"1";"1";"0";"";"3";"";"";"";"0000-00-00 00:00:00";"0000-00-00 00:00:00"
"6";"4";"1";"Beispiel_008";"Zeichen und Tags ersetzen / entfernen";"0";"<head>";"<?php\~r~\~n~/**\~r~\~n~ * Zeichen und Tags ersetzen / entfernen\~r~\~n~ */\~r~\~n~global $REX\~d~\~r~\~n~\~r~\~n~  $xoutputfilter_codereplace = array(\~r~\~n~  '<b>' => '<strong>' ,\~r~\~n~  '</b>' => '</strong>' ,\~r~\~n~  '<i>' => '<em>' ,\~r~\~n~  '</i>' => '</em>' ,\~r~\~n~  'ä' => '&auml\~d~' ,\~r~\~n~  'ö' => '&ouml\~d~' ,\~r~\~n~  'ü' => '&uuml\~d~' ,\~r~\~n~  'Ä' => '&Auml\~d~' ,\~r~\~n~  'Ö' => '&Ouml\~d~' ,\~r~\~n~  'Ü' => '&Uuml\~d~' ,\~r~\~n~  'ß' => '&szlig\~d~',\~r~\~n~  '(c)' => '&copy\~d~',\~r~\~n~  ' ismap=\~q~ismap\~q~' => '',\~r~\~n~  ' ismap=\~q~true\~q~' => '',\~r~\~n~  ' target=\~q~_self\~q~' => '',\~r~\~n~  ' target=\~q~_blank\~q~' => ' onclick=\~q~window.open(this.href)\~d~ return false\~d~\~q~',\~r~\~n~  '<div align=\~q~center\~q~>' => '<div style=\~q~text-align:center\~d~\~q~>',\~r~\~n~  '<hr width=\~q~100%\~q~ size=\~q~2\~q~ />' => '<hr />'\~r~\~n~  )\~d~\~r~\~n~\~r~\~n~  $search = array()\~d~\~r~\~n~  $replace = array()\~d~\~r~\~n~  foreach ($xoutputfilter_codereplace as $key => $value)\~r~\~n~  {\~r~\~n~    $search[] = $key\~d~\~r~\~n~    $replace[] = $value\~d~\~r~\~n~  }\~r~\~n~  $REX['xoutputfilter']['content'] = str_replace($search, $replace, $REX['xoutputfilter']['content'])\~d~\~r~\~n~?>";"1";"1";"1";"";"4";"";"";"";"0000-00-00 00:00:00";"0000-00-00 00:00:00"
"7";"4";"1";"Beispiel_010";"E-Mail-Adressen mit Klasse email versehen und verschlüsseln";"0";"mailto:";"<?php\~r~\~n~/**\~r~\~n~ * E-Mail Adressen verschlüsseln\~r~\~n~ */\~r~\~n~global $REX\~d~\~r~\~n~\~r~\~n~  // hier via regEx alle absoluten, externen Linkadressen heraussuchen\~r~\~n~  preg_match_all(\~q~/<a[^>]*(href\s*=\s*(\\~q~|')(mailto)(?=:).*?(\\~q~|'))[^>]*>(.*?)<\/a>/ims\~q~, $REX['xoutputfilter']['content'], $matches)\~d~\~r~\~n~\~r~\~n~  // hier jetzt alle gefundenen durchgehen und um klasse erweitern\~r~\~n~  if ( isset ($matches[0][0]) and $matches[0][0] != '')\~r~\~n~  {\~r~\~n~    for ($m = 0\~d~ $m < count ($matches[0])\~d~ $m++)\~r~\~n~    {\~r~\~n~      $msearch = $matches[0][$m]\~d~\~r~\~n~      if (strstr($matches[0][$m], 'class='))\~r~\~n~      {\~r~\~n~        $mreplace = $matches[0][$m]\~d~\~r~\~n~      }\~r~\~n~      else\~r~\~n~      {\~r~\~n~        $mreplace = str_replace('href=', 'class=\~q~email\~q~ href=', $matches[0][$m])\~d~\~r~\~n~      }\~r~\~n~      $REX['xoutputfilter']['content'] = str_replace($msearch, $mreplace, $REX['xoutputfilter']['content'])\~d~\~r~\~n~    }\~r~\~n~  }\~r~\~n~\~r~\~n~  // hier jetzt alle gefundenen durchgehen und crypt\~r~\~n~  if ( isset ($matches[1][0]) and $matches[1][0] != '')\~r~\~n~  {\~r~\~n~    for ($m = 0\~d~ $m < count ($matches[1])\~d~ $m++)\~r~\~n~    {\~r~\~n~      $va = explode('mailto:', $matches[1][$m])\~d~\~r~\~n~      $originalemail = str_replace('\~q~', '', $va[1])\~d~\~r~\~n~\~r~\~n~      $encryptedemail = ''\~d~\~r~\~n~      for ($i=0\~d~ $i < strlen($originalemail)\~d~ $i++) {\~r~\~n~        $encryptedemail .= '&#'.ord(substr($originalemail, $i, 1)).'\~d~'\~d~\~r~\~n~      }\~r~\~n~\~r~\~n~      $msearch = 'mailto:'.$originalemail\~d~\~r~\~n~      $mreplace = 'mailto:'.str_replace('&#64\~d~', '%40', $encryptedemail)\~d~\~r~\~n~      $REX['xoutputfilter']['content'] = str_replace($msearch, $mreplace, $REX['xoutputfilter']['content'])\~d~\~r~\~n~\~r~\~n~      $msearch = $originalemail\~d~\~r~\~n~      $mreplace = $encryptedemail\~d~\~r~\~n~      $REX['xoutputfilter']['content'] = str_replace($msearch, $mreplace, $REX['xoutputfilter']['content'])\~d~\~r~\~n~    }\~r~\~n~  }\~r~\~n~?>";"1";"1";"1";"";"4";"";"";"";"0000-00-00 00:00:00";"0000-00-00 00:00:00"
"8";"4";"1";"Beispiel_012";"Externe Links mit Klasse extern versehen";"0";"href=\~q~http:";"<?php\~r~\~n~/**\~r~\~n~ * Kennzeichnung externe Links mit Ausnahme\~r~\~n~ */\~r~\~n~global $REX\~d~\~r~\~n~\~r~\~n~  //$content = $REX['xoutputfilter']['content']\~d~\~r~\~n~\~r~\~n~  // Von der Ersetzung ausgeschlossen:\~r~\~n~  $excl = array()\~d~\~r~\~n~  $excl[] = 'href=\~q~' . $REX['SERVER']\~d~\~r~\~n~  $excl[] = 'href=\~q~http://' . $_SERVER['HTTP_HOST']\~d~\~r~\~n~  $excl[] = 'href=\~q~https://' . $_SERVER['HTTP_HOST']\~d~\~r~\~n~  $excl[] = '#top'\~d~\~r~\~n~  $excl[] = '#nav'\~d~\~r~\~n~  $excl[] = '#mainnav'\~d~\~r~\~n~  $excl[] = '#hauptnavigation'\~d~\~r~\~n~  $excl[] = '#content'\~d~\~r~\~n~  $excl[] = 'href=\~q~http://www.facebook.com/'\~d~\~r~\~n~  $excl[] = 'href=\~q~http://twitter.com/'\~d~\~r~\~n~\~r~\~n~  // hier via regEx alle absoluten, externen Linkadressen heraussuchen\~r~\~n~  preg_match_all(\~q~/<a[^>]*(href\s*=\s*(\\~q~|')(http(s)?|ftp(s)?|telnet|irc)(?=:\/\/).*?(\\~q~|'))[^>]*>(.*?)<\/a>/ims\~q~, $REX['xoutputfilter']['content'], $matches)\~d~\~r~\~n~\~r~\~n~  if ( isset ($matches[0][0]) and $matches[0][0] != '')\~r~\~n~  {\~r~\~n~    $srch = $repl = array()\~d~\~r~\~n~    for ($m = 0\~d~ $m < count ($matches[0])\~d~ $m++)\~r~\~n~    {\~r~\~n~      $msearch = $matches[0][$m]\~d~\~r~\~n~      if (strstr($matches[0][$m], 'class='))\~r~\~n~      {\~r~\~n~        $mreplace = $matches[0][$m]\~d~\~r~\~n~      }\~r~\~n~      else\~r~\~n~      {\~r~\~n~        $mreplace = str_replace('href=', 'class=\~q~extern\~q~ href=', $matches[0][$m])\~d~\~r~\~n~      }\~r~\~n~      for ($x = 0\~d~ $x < count($excl)\~d~ $x++)\~r~\~n~      {\~r~\~n~        if (strstr($matches[1][$m], $excl[$x]))\~r~\~n~        {\~r~\~n~          $mreplace = $matches[0][$m]\~d~\~r~\~n~        }\~r~\~n~      }\~r~\~n~      $srch[] = $msearch\~d~\~r~\~n~      $repl[] = $mreplace\~d~\~r~\~n~    }\~r~\~n~    $REX['xoutputfilter']['content'] = str_replace($srch, $repl, $REX['xoutputfilter']['content'])\~d~\~r~\~n~  }  \~r~\~n~?>";"1";"1";"1";"";"4";"";"";"";"0000-00-00 00:00:00";"0000-00-00 00:00:00"
"9";"4";"0";"Beispiel_013";"Wartungsarbeiten - Nicht angemeldete Benutzer auf eine Wartungsseite umleiten";"0";"<head>";"<?php\~r~\~n~/**\~r~\~n~* Wartungsarbeiten\~r~\~n~*/\~r~\~n~  global $REX\~d~\~r~\~n~\~r~\~n~  // Hier die URL angeben auf die weitergeleitet werden soll!\~r~\~n~  $offline_url = $REX['SERVER'] . 'wartungsarbeiten.html'\~d~\~r~\~n~\~r~\~n~  // evtl. Weiterleitung\~r~\~n~  @session_start()\~d~\~r~\~n~  $islogon = false\~d~\~r~\~n~  \~r~\~n~  if (isset($_SESSION[$REX['INSTNAME']]) and isset($_SESSION[$REX['INSTNAME']]['UID']) and $_SESSION[$REX['INSTNAME']]['UID']<>'')\~r~\~n~  {\~r~\~n~    $islogon = true\~d~\~r~\~n~  }\~r~\~n~\~r~\~n~  if (!$islogon) \~r~\~n~  {\~r~\~n~    if ( !strstr($_SERVER[\~q~REQUEST_URI\~q~], '&maintenance') )\~r~\~n~    {\~r~\~n~      $trash = ob_get_contents()\~d~\~r~\~n~      ob_end_clean()\~d~\~r~\~n~      if (strstr($offline_url, '?'))\~r~\~n~      {\~r~\~n~        header('Location: ' . $offline_url . '&maintenance')\~d~\~r~\~n~      }\~r~\~n~      else\~r~\~n~      {\~r~\~n~        header('Location: ' . $offline_url)\~d~\~r~\~n~      }\~r~\~n~      \~r~\~n~    }\~r~\~n~  }\~r~\~n~?>";"1";"1";"1";"";"4";"";"";"";"0000-00-00 00:00:00";"0000-00-00 00:00:00"
"10";"5";"0";"Beispiel_001";"Beispiel für HTML-Insert im Header (mit PHP-Code)";"0";"<head>";" \~r~\~n~\~r~\~n~<!--\~r~\~n~\~t~Beispiel für einen Insert im Header-Bereich des Backends \~d~-)\~r~\~n~<?php\~r~\~n~\~t~global $REX\~d~\~r~\~n~\~t~echo date('\~t~d.m.Y H:i:s') . \~q~\n\~q~\~d~\~r~\~n~\~t~echo '\~t~REDAXO Version: ' . $REX['VERSION'] . '.' . $REX['SUBVERSION'] . '.' . $REX['MINORVERSION'] . \~q~\n\~q~\~d~\~r~\~n~?>\~r~\~n~-->\~r~\~n~\~r~\~n~";"1";"0";"1";"";"0";"";"";"";"0000-00-00 00:00:00";"0000-00-00 00:00:00"
"11";"5";"1";"Beispiel_002";"Anzeige der REDAXO-Version im Backend";"0";"<li class=\~q~rex-navi-first\~q~>";"<?php\~r~\~n~  global $REX\~d~\~r~\~n~  echo '<em>Version: '\~r~\~n~    . $REX['VERSION'] . '.' . $REX['SUBVERSION'] . '.' . $REX['MINORVERSION']\~r~\~n~    . '</em>&nbsp\~d~&nbsp\~d~</li><li>'\~d~\~r~\~n~?>";"1";"0";"1";"";"0";"mediapool";"";"";"0000-00-00 00:00:00";"0000-00-00 00:00:00"
"12";"5";"1";"Beispiel_003";"Link zum Frontend einfügen";"0";"<li><a href=\~q~index.php?page=profile\~q~>Mein Profil</a></li>";"<li>\~r~\~n~<a href=\~q~../index.php\~q~ onclick=\~q~window.open(this.href)\~d~ return false\~d~\~q~>zur Webseite</a>\~r~\~n~</li>";"1";"0";"1";"";"1";"";"";"";"0000-00-00 00:00:00";"0000-00-00 00:00:00"
"13";"5";"1";"Beispiel_004";"Beispiel \~q~abmelden\~q~ durch \~q~Logout\~q~ ersetzen";"0";"<a href=\~q~index.php?rex_logout=1\~q~ title=\~q~abmelden\~q~>abmelden</a>\~r~\~n~|\~r~\~n~<a href=\~q~index.php?rex_logout=1\~q~ accesskey=\~q~l\~q~ title=\~q~abmelden [l]\~q~>abmelden</a>";"<a href=\~q~index.php?rex_logout=1\~q~ accesskey=\~q~l\~q~ title=\~q~Logout [l]\~q~>Logout</a>";"1";"0";"1";"";"2";"";"";"";"0000-00-00 00:00:00";"0000-00-00 00:00:00"
"14";"5";"1";"Beispiel_005";"Beispiel Linkmap und Medienpool ohne REDAXO-Logo (4.3.x)";"0";"</head>\~r~\~n~<body class=\~q~rex-popuplinkmap\~r~\~n~|\~r~\~n~</head>\~r~\~n~<body class=\~q~rex-popupmediapool";"  \~r~\~n~<style type=\~q~text/css\~q~>\~r~\~n~#rex-website { margin-top:-65px\~d~ }\~r~\~n~#rex-wrapper { margin-top:-50px\~d~ } \~r~\~n~</style>\~r~\~n~ ";"0";"0";"1";"linkmap, mediapool";"1";"";"";"";"0000-00-00 00:00:00";"0000-00-00 00:00:00"
"15";"5";"1";"Beispiel_006";"Beispiel Linkmap und Medienpool ohne REDAXO-Logo (4.2.x)";"0";"</head>\~r~\~n~<body id=\~q~rex-popup\~r~\~n~|";"  \~r~\~n~<style type=\~q~text/css\~q~>\~r~\~n~#rex-website { margin-top:-65px\~d~ }\~r~\~n~#rex-wrapper { margin-top:-20px\~d~ } \~r~\~n~</style>\~r~\~n~ ";"0";"0";"1";"linkmap, mediapool";"1";"";"";"";"0000-00-00 00:00:00";"0000-00-00 00:00:00"
"16";"5";"0";"Beispiel_007";"Alle HTML-Kommentare entfernen - ausser Conditional Comments für IE";"0";"/<!--[^\[](.|\s)*?[^\]]-->/";"";"1";"0";"0";"";"3";"";"";"";"0000-00-00 00:00:00";"0000-00-00 00:00:00"